<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Controle de Frequ√™ncia - EBD</title>
  <link rel="stylesheet" href="style.css">
  
  <!-- PWA Meta Tags CORRIGIDAS -->
  <meta name="theme-color" content="#3870b7"/>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="EBD App">
  
  <!-- Manifest -->
  <link rel="manifest" href="manifest.json" crossorigin="use-credentials">
  
  <!-- Icons CORRIGIDOS -->
  <link rel="icon" type="image/png" href="Imagens/icon4EBD192x192.png">
  
  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon" href="Imagens/icon4EBD192x192.png">
  <link rel="apple-touch-icon" sizes="152x152" href="Imagens/icon4EBD192x192.png">
  <link rel="apple-touch-icon" sizes="180x180" href="Imagens/icon4EBD192x192.png">
  <link rel="apple-touch-icon" sizes="167x167" href="Imagens/icon4EBD192x192.png">
  
  <!-- Windows Tile -->
  <meta name="msapplication-TileImage" content="Imagens/icon4EBD192x192.png">
  <meta name="msapplication-TileColor" content="#3870b7">
  
  <!-- Safari Pinned Tab -->
  <link rel="mask-icon" href="Imagens/icon4EBD192x192.png" color="#3870b7">
</head>
<body>
  <!-- P√°gina de Sele√ß√£o de Classes -->
  <div id="pagina-selecao">
    <header>
      <h1>Escola Dominical - Controle de Frequ√™ncia</h1>
      <h2>Selecione sua classe</h2>
    </header>

    <div class="classes-grid">
      <div class="classe-card" data-classe="Jovens">
        <h2>Jovens por Cristo</h2>
        <p>Classe de jovens</p>
      </div>
      
      <div class="classe-card" data-classe="Adolescentes">
        <h2>Adolescentes</h2>
        <p>Classe de adolescentes</p>
      </div>
      
      <div class="classe-card" data-classe="Irm√£os">
        <h2>Daniel</h2>
        <p>Classe masculina</p>
      </div>
      
      <div class="classe-card" data-classe="Irm√£s">
        <h2>Noemi</h2>
        <p>Classe feminina</p>
      </div>
      
      <div class="classe-card" data-classe="JardimInfancia">
        <h2>Jardim de Inf√¢ncia</h2>
        <p>04 a 06 anos</p>
      </div>
      
      <div class="classe-card" data-classe="Juniores">
        <h2>Juniores</h2>
        <p>09 a 10 anos</p>
      </div>
    </div>

    <footer>
      <p>&copy; 2025 EBD Vila Carolina</p>
    </footer>
  </div>

  <!-- Aplicativo Principal (inicialmente oculto) -->
  <div id="pagina-app" style="display: none;">
    <header>
      <h1>4¬∫ Trimestre - Escola Dominical</h1>
      <p id="nomeClasse">Carregando...</p>
      <p id="dataAtual"></p>
      <a href="#" id="btnVoltar" style="color: #feffcc; text-decoration: none;">‚Üê Voltar para sele√ß√£o de classes</a>
    </header>

    <main>
      <form id="frequenciaForm">
        <table>
          <thead>
            <tr>
              <th>Nome</th>
              <th>Presen√ßa</th>
            </tr>
          </thead>
          <tbody id="tabelaAlunos"></tbody>
        </table>
      </form>
      
      <section id="secao-visitantes">
        <h2>Visitantes</h2>
        <form id="form-visitante">
          <input type="text" id="nomeVisitante" placeholder="Nome do visitante" required>
          <button type="submit" id="btnIncluir">Incluir</button>
        </form>
        <div id="lista-visitantes"></div>
      </section>

      <section id="resumo">
        <h2>Resumo da Classe</h2>

        <div class="campo">
          <label for="totalMatriculados">Total Matriculados:</label>
          <input type="number" id="totalMatriculados" readonly>
        </div>

        <div class="campo">
          <label for="presentes">Presentes:</label>
          <input type="number" id="presentes" readonly>
        </div>

        <div class="campo">
          <label for="visitantes">Visitantes:</label>
          <input type="number" id="visitantes" readonly value="0">
        </div>

        <div class="campo">
          <label for="revistas">Revistas:</label>
          <input type="number" id="revistas" value="0" min="0">
        </div>

        <div class="campo">
          <label for="biblias">B√≠blias:</label>
          <input type="number" id="biblias" value="0" min="0">
        </div>

        <div class="campo">
          <label for="oferta">Oferta (R$):</label>
          <input type="number" id="oferta" step="0.01" value="0.00" min="0">
        </div>
      </section>
      
      <div id="acoes">
        <button id="btnExportar">Enviar Relat√≥rio para secretaria</button>
      </div>
    </main>

    <footer>
      <p>&copy; 2025 EBD Vila Carolina</p>
    </footer>
  </div>

  <!-- Modal de Confirma√ß√£o -->
  <div id="modalConfirmacao" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div class="modal-icon">‚úÖ</div>
      <h2>Relat√≥rio Gerado!</h2>
      
      <div id="conteudo-android" class="dispositivo-conteudo">
        <p>üìÅ <strong>Arquivo Excel baixado!</strong></p>
        <p>Agora compartilhe pelo WhatsApp com a secretaria.</p>
      </div>
      
      <div id="conteudo-ios" class="dispositivo-conteudo">
        <p>üìé <strong>Arquivo pronto para compartilhar!</strong></p>
        <button id="btnCompartilharIOS" class="btn-whatsapp">
          üì§ Compartilhar Arquivo
        </button>
      </div>
      
      <div id="conteudo-fallback" class="dispositivo-conteudo">
        <p>üìä <strong>Relat√≥rio gerado com sucesso!</strong></p>
        <button id="btnDownloadManual" class="btn-whatsapp">
          ‚¨áÔ∏è Fazer Download
        </button>
      </div>

      <div class="modal-botoes">
        <button id="btnFecharModal" class="btn-sucesso">Fechar e Limpar</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="script.js"></script>
</body>
</html>



